#include <stdio.h>
#include <stdlib.h>

int max(int a,int b){ return a>b?a:b; }

int main(){
    int n,k;
    if(scanf("%d",&n)!=1) return 0;
    int *a=(int*)malloc(n*sizeof(int));
    for(int i=0;i<n;i++) scanf("%d",&a[i]);
    scanf("%d",&k);
    if(k>n || k<=0){ printf("\n"); free(a); return 0;}
    int *dq=(int*)malloc(n*sizeof(int));
    int head=0,tail=0;
    for(int i=0;i<n;i++){
        while(head<tail && dq[tail-1]<=a[i]) tail--;
        dq[tail++]=a[i];
        if(i>=k && dq[0]==a[i-k]) head++;
        if(i>=k-1){
            if(i>k-1) printf(" ");
            printf("%d",dq[head]);
        }
    }
    printf("\n");
    free(a); free(dq);
    return 0;
}
